'use strict';var nodeCrypto=require('crypto'),Alea=function(){function a(){var b=4022871197,d=function(f){f=f.toString();for(var g=0;g<f.length;g++){b+=f.charCodeAt(g);var j=0.02519603282416938*b;b=j>>>0,j-=b,j*=b,b=j>>>0,j-=b,b+=4294967296*j}return 2.3283064365386963e-10*(b>>>0)};return d.version='Mash 0.9',d}return function(b){var d=0,f=0,g=0,j=1;0==b.length&&(b=[+new Date]);var k=a();d=k(' '),f=k(' '),g=k(' ');for(var l=0;l<b.length;l++)d-=k(b[l]),0>d&&(d+=1),f-=k(b[l]),0>f&&(f+=1),g-=k(b[l]),0>g&&(g+=1);k=null;var m=function(){var o=2091639*d+2.3283064365386963e-10*j;return d=f,f=g,g=o-(j=0|o)};return m.uint32=function(){return 4294967296*m()},m.fract53=function(){return m()+1.1102230246251565e-16*(0|2097152*m())},m.version='Alea 0.9',m.args=b,m}(Array.prototype.slice.call(arguments))},UNMISTAKABLE_CHARS='23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz',BASE64_CHARS='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_',RandomGenerator=function(a,b){var d=this;if(d.type=a,!RandomGenerator.Type[a])throw new Error('Unknown random generator type: '+a);if(a===RandomGenerator.Type.ALEA){if(!b.seeds)throw new Error('No seeds were provided for Alea PRNG');d.alea=Alea.apply(null,b.seeds)}};RandomGenerator.Type={NODE_CRYPTO:'NODE_CRYPTO',BROWSER_CRYPTO:'BROWSER_CRYPTO',ALEA:'ALEA'},RandomGenerator.prototype.fraction=function(){var a=this;if(a.type===RandomGenerator.Type.ALEA)return a.alea();if(a.type===RandomGenerator.Type.NODE_CRYPTO){var b=parseInt(a.hexString(8),16);return 2.3283064365386963e-10*b}if(a.type===RandomGenerator.Type.BROWSER_CRYPTO){var d=new Uint32Array(1);return window.crypto.getRandomValues(d),2.3283064365386963e-10*d[0]}throw new Error('Unknown random generator type: '+a.type)},RandomGenerator.prototype.hexString=function(a){var b=this;if(b.type===RandomGenerator.Type.NODE_CRYPTO){var d=Math.ceil(a/2),f;try{f=nodeCrypto.randomBytes(d)}catch(j){f=nodeCrypto.pseudoRandomBytes(d)}var g=f.toString('hex');return g.substring(0,a)}return this._randomString(a,'0123456789abcdef')},RandomGenerator.prototype._randomString=function(a,b){for(var d=this,f=[],g=0;g<a;g++)f[g]=d.choice(b);return f.join('')},RandomGenerator.prototype.id=function(a){var b=this;return void 0===a&&(a=17),b._randomString(a,UNMISTAKABLE_CHARS)},RandomGenerator.prototype.secret=function(a){var b=this;return void 0===a&&(a=43),b._randomString(a,BASE64_CHARS)},RandomGenerator.prototype.choice=function(a){var b=Math.floor(this.fraction()*a.length);return'string'==typeof a?a.substr(b,1):a[b]};var height='undefined'!=typeof window&&window.innerHeight||'undefined'!=typeof document&&document.documentElement&&document.documentElement.clientHeight||'undefined'!=typeof document&&document.body&&document.body.clientHeight||1,width='undefined'!=typeof window&&window.innerWidth||'undefined'!=typeof document&&document.documentElement&&document.documentElement.clientWidth||'undefined'!=typeof document&&document.body&&document.body.clientWidth||1,agent='undefined'!=typeof navigator&&navigator.userAgent||'';function createAleaGeneratorWithGeneratedSeed(){return new RandomGenerator(RandomGenerator.Type.ALEA,{seeds:[new Date,height,width,agent,Math.random()]})}if('undefined'!=typeof window&&window.crypto&&window.crypto.getRandomValues)var Random=new RandomGenerator(RandomGenerator.Type.BROWSER_CRYPTO);else var Random=createAleaGeneratorWithGeneratedSeed();Random.createWithSeeds=function(){for(var b=arguments.length,a=Array(b),d=0;d<b;d++)a[d]=arguments[d];if(0===a.length)throw new Error('No seeds were provided');return new RandomGenerator(RandomGenerator.Type.ALEA,{seeds:a})},Random.insecure=createAleaGeneratorWithGeneratedSeed(),module.exports=Random;
